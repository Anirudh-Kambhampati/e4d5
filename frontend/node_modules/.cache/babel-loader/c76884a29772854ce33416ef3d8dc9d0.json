{"ast":null,"code":"var _jsxFileName = \"/Users/akwg7/Documents/react/RISE1/rise-clean/frontend/src/pages/AuthenticationPages/CommonPage/AuthenticationPage.jsx\",\n  _s = $RefreshSig$();\nimport Joi from 'joi';\nimport React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Card from '../../../components/Card/Card';\nimport Input from '../../../components/Input/Input';\nimport Dropdown from '../../../components/Dropdown/Dropdown';\nimport { Alert, Collapse, IconButton } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthenticationPage = _ref => {\n  _s();\n  var _formData$inputFields, _formData$dropdownFie;\n  let {\n    isLoggedIn,\n    formLabel,\n    formData,\n    buttonLabel,\n    redirectURL,\n    redirectURLLabel,\n    joiSchema,\n    onError = () => {},\n    doSubmit = () => {},\n    errorMsg = '',\n    showErrorMsg = false\n  } = _ref;\n  const [formState, setFormState] = useState(formData === null || formData === void 0 ? void 0 : formData.state);\n  const [open, setOpen] = useState(false);\n  const [error, setError] = useState(errorMsg);\n  useEffect(() => {\n    setError(errorMsg);\n  }, [errorMsg]);\n  useEffect(() => {\n    setOpen(showErrorMsg);\n  }, [showErrorMsg]);\n  const handleChange = _ref2 => {\n    let {\n      target\n    } = _ref2;\n    setFormState(prev => ({\n      ...prev,\n      [target.name]: target.value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (joiSchema) {\n      const schema = Joi.object(joiSchema);\n      const {\n        error\n      } = schema.validate(formState);\n      if (error) {\n        setOpen(true);\n        setError(error.message);\n        return onError(error);\n      }\n    }\n    // if success\n    doSubmit(formState);\n  };\n  if (isLoggedIn) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"center-screen\",\n    children: /*#__PURE__*/_jsxDEV(Card, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-[80vh] w-[40vw] flex-col-center gap-10\",\n        children: [/*#__PURE__*/_jsxDEV(Collapse, {\n          in: open,\n          children: /*#__PURE__*/_jsxDEV(Alert, {\n            severity: \"error\",\n            action: /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"close\",\n              color: \"inherit\",\n              size: \"small\",\n              onClick: () => {\n                setOpen(false);\n              },\n              children: /*#__PURE__*/_jsxDEV(CloseIcon, {\n                fontSize: \"inherit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 17\n            }, this),\n            sx: {\n              mb: 2\n            },\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"font-bold text-3xl\",\n          children: formLabel\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"flex-col-center gap-5 w-11/12 -mt-24\",\n          onSubmit: handleSubmit,\n          children: [formData === null || formData === void 0 ? void 0 : (_formData$inputFields = formData.inputFields) === null || _formData$inputFields === void 0 ? void 0 : _formData$inputFields.map(_ref3 => {\n            let {\n              id,\n              label,\n              type,\n              required\n            } = _ref3;\n            return /*#__PURE__*/_jsxDEV(Input, {\n              id: id,\n              label: label,\n              value: formState[id],\n              type: type,\n              required: required || false,\n              onChange: handleChange\n            }, id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 15\n            }, this);\n          }), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 w-full\",\n            children: formData === null || formData === void 0 ? void 0 : (_formData$dropdownFie = formData.dropdownFields) === null || _formData$dropdownFie === void 0 ? void 0 : _formData$dropdownFie.map(_ref4 => {\n              let {\n                id,\n                label,\n                options,\n                width,\n                required\n              } = _ref4;\n              return /*#__PURE__*/_jsxDEV(Dropdown, {\n                id: id,\n                label: label,\n                options: options,\n                width: width,\n                value: formState[id],\n                required: required || false,\n                onChange: handleChange\n              }, id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            fullWidth: true,\n            sx: {\n              mt: 5,\n              textTransform: 'none'\n            },\n            type: \"submit\",\n            color: \"info\",\n            children: buttonLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            className: \"text-blue-600 underline underline-offset-4\",\n            to: redirectURL,\n            children: redirectURLLabel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 5\n  }, this);\n};\n_s(AuthenticationPage, \"qoPLH7SqnQU2ALmjU9pHrTKaDG8=\");\n_c = AuthenticationPage;\nexport default AuthenticationPage;\nvar _c;\n$RefreshReg$(_c, \"AuthenticationPage\");","map":{"version":3,"names":["Joi","React","useState","Link","Navigate","Button","Card","Input","Dropdown","Alert","Collapse","IconButton","CloseIcon","useEffect","AuthenticationPage","isLoggedIn","formLabel","formData","buttonLabel","redirectURL","redirectURLLabel","joiSchema","onError","doSubmit","errorMsg","showErrorMsg","formState","setFormState","state","open","setOpen","error","setError","handleChange","target","prev","name","value","handleSubmit","e","preventDefault","schema","object","validate","message","mb","inputFields","map","id","label","type","required","dropdownFields","options","width","mt","textTransform"],"sources":["/Users/akwg7/Documents/react/RISE1/rise-clean/frontend/src/pages/AuthenticationPages/CommonPage/AuthenticationPage.jsx"],"sourcesContent":["import Joi from 'joi';\nimport React, { useState } from 'react';\nimport { Link, Navigate } from 'react-router-dom';\nimport Button from '@mui/material/Button';\nimport Card from '../../../components/Card/Card';\nimport Input from '../../../components/Input/Input';\nimport Dropdown from '../../../components/Dropdown/Dropdown';\nimport { Alert, Collapse, IconButton } from '@mui/material';\nimport CloseIcon from '@mui/icons-material/Close';\nimport { useEffect } from 'react';\n\nconst AuthenticationPage = ({\n  isLoggedIn,\n  formLabel,\n  formData,\n  buttonLabel,\n  redirectURL,\n  redirectURLLabel,\n  joiSchema,\n  onError = () => {},\n  doSubmit = () => {},\n  errorMsg = '',\n  showErrorMsg = false,\n}) => {\n  const [formState, setFormState] = useState(formData?.state);\n  const [open, setOpen] = useState(false);\n  const [error, setError] = useState(errorMsg);\n\n  useEffect(() => {\n    setError(errorMsg);\n  }, [errorMsg]);\n\n  useEffect(() => {\n    setOpen(showErrorMsg);\n  }, [showErrorMsg]);\n\n  const handleChange = ({ target }) => {\n    setFormState((prev) => ({ ...prev, [target.name]: target.value }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (joiSchema) {\n      const schema = Joi.object(joiSchema);\n      const { error } = schema.validate(formState);\n      if (error) {\n        setOpen(true);\n        setError(error.message);\n        return onError(error);\n      }\n    }\n    // if success\n    doSubmit(formState);\n  };\n\n  if (isLoggedIn) {\n    return <Navigate to='/' replace={true} />;\n  }\n\n  return (\n    <div className='center-screen'>\n      <Card>\n        <div className='h-[80vh] w-[40vw] flex-col-center gap-10'>\n          <Collapse in={open}>\n            <Alert\n              severity='error'\n              action={\n                <IconButton\n                  aria-label='close'\n                  color='inherit'\n                  size='small'\n                  onClick={() => {\n                    setOpen(false);\n                  }}\n                >\n                  <CloseIcon fontSize='inherit' />\n                </IconButton>\n              }\n              sx={{ mb: 2 }}\n            >\n              {error}\n            </Alert>\n          </Collapse>\n          <p className='font-bold text-3xl'>{formLabel}</p>\n          <form\n            className='flex-col-center gap-5 w-11/12 -mt-24'\n            onSubmit={handleSubmit}\n          >\n            {formData?.inputFields?.map(({ id, label, type, required }) => (\n              <Input\n                key={id}\n                id={id}\n                label={label}\n                value={formState[id]}\n                type={type}\n                required={required || false}\n                onChange={handleChange}\n              />\n            ))}\n            <div className='mt-2 w-full'>\n              {formData?.dropdownFields?.map(\n                ({ id, label, options, width, required }) => (\n                  <Dropdown\n                    key={id}\n                    id={id}\n                    label={label}\n                    options={options}\n                    width={width}\n                    value={formState[id]}\n                    required={required || false}\n                    onChange={handleChange}\n                  />\n                )\n              )}\n            </div>\n            <Button\n              variant='contained'\n              fullWidth\n              sx={{ mt: 5, textTransform: 'none' }}\n              type='submit'\n              color='info'\n            >\n              {buttonLabel}\n            </Button>\n            <Link\n              className='text-blue-600 underline underline-offset-4'\n              to={redirectURL}\n            >\n              {redirectURLLabel}\n            </Link>\n          </form>\n        </div>\n      </Card>\n    </div>\n  );\n};\n\nexport default AuthenticationPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}