{"ast":null,"code":"'use strict';\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar _react = require('react');\nvar _react2 = _interopRequireDefault(_react);\nvar _propTypes = require('prop-types');\nvar _propTypes2 = _interopRequireDefault(_propTypes);\nvar _tree = require('./tree');\nvar _tree2 = _interopRequireDefault(_tree);\nvar _node = require('./node');\nvar _node2 = _interopRequireDefault(_node);\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\nvar UITree = function (_Component) {\n  _inherits(UITree, _Component);\n  function UITree(props) {\n    _classCallCheck(this, UITree);\n    var _this = _possibleConstructorReturn(this, (UITree.__proto__ || Object.getPrototypeOf(UITree)).call(this, props));\n    _initialiseProps.call(_this);\n    _this.state = _this.init(props);\n    return _this;\n  }\n  _createClass(UITree, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (!this._updated) {\n        this.setState(this.init(nextProps));\n      } else {\n        this._updated = false;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var tree = this.state.tree;\n      var dragging = this.state.dragging;\n      var draggingDom = this.getDraggingDom();\n      return _react2.default.createElement('div', {\n        className: 'm-tree'\n      }, draggingDom, _react2.default.createElement(_node2.default, {\n        tree: tree,\n        index: tree.getIndex(1),\n        key: 1,\n        paddingLeft: this.props.paddingLeft,\n        onDragStart: this.dragStart,\n        onCollapse: this.toggleCollapse,\n        dragging: dragging && dragging.id\n      }));\n    }\n\n    // oh\n  }]);\n\n  return UITree;\n}(_react.Component);\nUITree.propTypes = {\n  tree: _propTypes2.default.object.isRequired,\n  paddingLeft: _propTypes2.default.number,\n  renderNode: _propTypes2.default.func.isRequired\n};\nUITree.defaultProps = {\n  paddingLeft: 20\n};\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n  this.init = function (props) {\n    var tree = new _tree2.default(props.tree);\n    tree.isNodeCollapsed = props.isNodeCollapsed;\n    tree.renderNode = props.renderNode;\n    tree.changeNodeCollapsed = props.changeNodeCollapsed;\n    tree.updateNodesPosition();\n    return {\n      tree: tree,\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    };\n  };\n  this.getDraggingDom = function () {\n    var _state = _this2.state,\n      tree = _state.tree,\n      dragging = _state.dragging;\n    if (dragging && dragging.id) {\n      var draggingIndex = tree.getIndex(dragging.id);\n      var draggingStyles = {\n        top: dragging.y,\n        left: dragging.x,\n        width: dragging.w\n      };\n      return _react2.default.createElement('div', {\n        className: 'm-draggable',\n        style: draggingStyles\n      }, _react2.default.createElement(_node2.default, {\n        tree: tree,\n        index: draggingIndex,\n        paddingLeft: _this2.props.paddingLeft\n      }));\n    }\n    return null;\n  };\n  this.dragStart = function (id, dom, e) {\n    if (e.button !== 0) return;\n    _this2.dragging = {\n      id: id,\n      w: dom.offsetWidth,\n      h: dom.offsetHeight,\n      x: dom.offsetLeft,\n      y: dom.offsetTop\n    };\n    _this2._startX = dom.offsetLeft;\n    _this2._startY = dom.offsetTop;\n    _this2._offsetX = e.clientX;\n    _this2._offsetY = e.clientY;\n    _this2._start = true;\n    window.addEventListener('mousemove', _this2.drag);\n    window.addEventListener('mouseup', _this2.dragEnd);\n  };\n  this.drag = function (e) {\n    if (_this2._start) {\n      _this2.setState({\n        dragging: _this2.dragging\n      });\n      _this2._start = false;\n    }\n    var tree = _this2.state.tree;\n    var dragging = _this2.state.dragging;\n    var paddingLeft = _this2.props.paddingLeft;\n    var newIndex = null;\n    var index = tree.getIndex(dragging.id);\n    var collapsed = index.node.collapsed;\n    var _startX = _this2._startX;\n    var _startY = _this2._startY;\n    var _offsetX = _this2._offsetX;\n    var _offsetY = _this2._offsetY;\n    var pos = {\n      x: _startX + e.clientX - _offsetX,\n      y: _startY + e.clientY - _offsetY\n    };\n    dragging.x = pos.x;\n    dragging.y = pos.y;\n    var diffX = dragging.x - paddingLeft / 2 - (index.left - 2) * paddingLeft;\n    var diffY = dragging.y - dragging.h / 2 - (index.top - 2) * dragging.h;\n    if (diffX < 0) {\n      // left\n      if (index.parent && !index.next) {\n        newIndex = tree.move(index.id, index.parent, 'after');\n      }\n    } else if (diffX > paddingLeft) {\n      // right\n      if (index.prev) {\n        var prevNode = tree.getIndex(index.prev).node;\n        if (!prevNode.collapsed && !prevNode.leaf) {\n          newIndex = tree.move(index.id, index.prev, 'append');\n        }\n      }\n    }\n    if (newIndex) {\n      index = newIndex;\n      newIndex.node.collapsed = collapsed;\n      dragging.id = newIndex.id;\n    }\n    if (diffY < 0) {\n      // up\n      var above = tree.getNodeByTop(index.top - 1);\n      newIndex = tree.move(index.id, above.id, 'before');\n    } else if (diffY > dragging.h) {\n      // down\n      if (index.next) {\n        var below = tree.getIndex(index.next);\n        if (below.children && below.children.length && !below.node.collapsed) {\n          newIndex = tree.move(index.id, index.next, 'prepend');\n        } else {\n          newIndex = tree.move(index.id, index.next, 'after');\n        }\n      } else {\n        var _below = tree.getNodeByTop(index.top + index.height);\n        if (_below && _below.parent !== index.id) {\n          if (_below.children && _below.children.length && !_below.node.collapsed) {\n            newIndex = tree.move(index.id, _below.id, 'prepend');\n          } else {\n            newIndex = tree.move(index.id, _below.id, 'after');\n          }\n        }\n      }\n    }\n    if (newIndex) {\n      newIndex.node.collapsed = collapsed;\n      dragging.id = newIndex.id;\n    }\n    _this2.setState({\n      tree: tree,\n      dragging: dragging\n    });\n  };\n  this.dragEnd = function () {\n    _this2.setState({\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    });\n    _this2.change(_this2.state.tree);\n    window.removeEventListener('mousemove', _this2.drag);\n    window.removeEventListener('mouseup', _this2.dragEnd);\n  };\n  this.change = function (tree) {\n    _this2._updated = true;\n    if (_this2.props.onChange) _this2.props.onChange(tree.obj);\n  };\n  this.toggleCollapse = function (nodeId) {\n    var tree = _this2.state.tree;\n    var index = tree.getIndex(nodeId);\n    var node = index.node;\n    node.collapsed = !node.collapsed;\n    tree.updateNodesPosition();\n    _this2.setState({\n      tree: tree\n    });\n    _this2.change(tree);\n  };\n};\nmodule.exports = UITree;","map":{"version":3,"names":["_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","_tree","_tree2","_node","_node2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","UITree","_Component","_this","getPrototypeOf","_initialiseProps","state","init","componentWillReceiveProps","nextProps","_updated","setState","render","tree","dragging","draggingDom","getDraggingDom","createElement","className","index","getIndex","paddingLeft","onDragStart","dragStart","onCollapse","toggleCollapse","id","Component","propTypes","object","isRequired","number","renderNode","func","defaultProps","_this2","isNodeCollapsed","changeNodeCollapsed","updateNodesPosition","x","y","w","h","_state","draggingIndex","draggingStyles","top","left","width","style","dom","e","button","offsetWidth","offsetHeight","offsetLeft","offsetTop","_startX","_startY","_offsetX","clientX","_offsetY","clientY","_start","window","addEventListener","drag","dragEnd","newIndex","collapsed","node","pos","diffX","diffY","parent","next","move","prev","prevNode","leaf","above","getNodeByTop","below","children","_below","height","change","removeEventListener","onChange","nodeId","module","exports"],"sources":["/Users/akwg7/Documents/react/RISE1/rise-clean/frontend/node_modules/react-ui-tree/dist/react-ui-tree.js"],"sourcesContent":["'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _tree = require('./tree');\n\nvar _tree2 = _interopRequireDefault(_tree);\n\nvar _node = require('./node');\n\nvar _node2 = _interopRequireDefault(_node);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar UITree = function (_Component) {\n  _inherits(UITree, _Component);\n\n  function UITree(props) {\n    _classCallCheck(this, UITree);\n\n    var _this = _possibleConstructorReturn(this, (UITree.__proto__ || Object.getPrototypeOf(UITree)).call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = _this.init(props);\n    return _this;\n  }\n\n  _createClass(UITree, [{\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (!this._updated) {\n        this.setState(this.init(nextProps));\n      } else {\n        this._updated = false;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var tree = this.state.tree;\n      var dragging = this.state.dragging;\n      var draggingDom = this.getDraggingDom();\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'm-tree' },\n        draggingDom,\n        _react2.default.createElement(_node2.default, {\n          tree: tree,\n          index: tree.getIndex(1),\n          key: 1,\n          paddingLeft: this.props.paddingLeft,\n          onDragStart: this.dragStart,\n          onCollapse: this.toggleCollapse,\n          dragging: dragging && dragging.id\n        })\n      );\n    }\n\n    // oh\n\n  }]);\n\n  return UITree;\n}(_react.Component);\n\nUITree.propTypes = {\n  tree: _propTypes2.default.object.isRequired,\n  paddingLeft: _propTypes2.default.number,\n  renderNode: _propTypes2.default.func.isRequired\n};\nUITree.defaultProps = {\n  paddingLeft: 20\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.init = function (props) {\n    var tree = new _tree2.default(props.tree);\n    tree.isNodeCollapsed = props.isNodeCollapsed;\n    tree.renderNode = props.renderNode;\n    tree.changeNodeCollapsed = props.changeNodeCollapsed;\n    tree.updateNodesPosition();\n\n    return {\n      tree: tree,\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    };\n  };\n\n  this.getDraggingDom = function () {\n    var _state = _this2.state,\n        tree = _state.tree,\n        dragging = _state.dragging;\n\n\n    if (dragging && dragging.id) {\n      var draggingIndex = tree.getIndex(dragging.id);\n      var draggingStyles = {\n        top: dragging.y,\n        left: dragging.x,\n        width: dragging.w\n      };\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'm-draggable', style: draggingStyles },\n        _react2.default.createElement(_node2.default, {\n          tree: tree,\n          index: draggingIndex,\n          paddingLeft: _this2.props.paddingLeft\n        })\n      );\n    }\n\n    return null;\n  };\n\n  this.dragStart = function (id, dom, e) {\n    if (e.button !== 0) return;\n    _this2.dragging = {\n      id: id,\n      w: dom.offsetWidth,\n      h: dom.offsetHeight,\n      x: dom.offsetLeft,\n      y: dom.offsetTop\n    };\n\n    _this2._startX = dom.offsetLeft;\n    _this2._startY = dom.offsetTop;\n    _this2._offsetX = e.clientX;\n    _this2._offsetY = e.clientY;\n    _this2._start = true;\n\n    window.addEventListener('mousemove', _this2.drag);\n    window.addEventListener('mouseup', _this2.dragEnd);\n  };\n\n  this.drag = function (e) {\n    if (_this2._start) {\n      _this2.setState({\n        dragging: _this2.dragging\n      });\n      _this2._start = false;\n    }\n\n    var tree = _this2.state.tree;\n    var dragging = _this2.state.dragging;\n    var paddingLeft = _this2.props.paddingLeft;\n    var newIndex = null;\n    var index = tree.getIndex(dragging.id);\n    var collapsed = index.node.collapsed;\n\n    var _startX = _this2._startX;\n    var _startY = _this2._startY;\n    var _offsetX = _this2._offsetX;\n    var _offsetY = _this2._offsetY;\n\n    var pos = {\n      x: _startX + e.clientX - _offsetX,\n      y: _startY + e.clientY - _offsetY\n    };\n    dragging.x = pos.x;\n    dragging.y = pos.y;\n\n    var diffX = dragging.x - paddingLeft / 2 - (index.left - 2) * paddingLeft;\n    var diffY = dragging.y - dragging.h / 2 - (index.top - 2) * dragging.h;\n\n    if (diffX < 0) {\n      // left\n      if (index.parent && !index.next) {\n        newIndex = tree.move(index.id, index.parent, 'after');\n      }\n    } else if (diffX > paddingLeft) {\n      // right\n      if (index.prev) {\n        var prevNode = tree.getIndex(index.prev).node;\n        if (!prevNode.collapsed && !prevNode.leaf) {\n          newIndex = tree.move(index.id, index.prev, 'append');\n        }\n      }\n    }\n\n    if (newIndex) {\n      index = newIndex;\n      newIndex.node.collapsed = collapsed;\n      dragging.id = newIndex.id;\n    }\n\n    if (diffY < 0) {\n      // up\n      var above = tree.getNodeByTop(index.top - 1);\n      newIndex = tree.move(index.id, above.id, 'before');\n    } else if (diffY > dragging.h) {\n      // down\n      if (index.next) {\n        var below = tree.getIndex(index.next);\n        if (below.children && below.children.length && !below.node.collapsed) {\n          newIndex = tree.move(index.id, index.next, 'prepend');\n        } else {\n          newIndex = tree.move(index.id, index.next, 'after');\n        }\n      } else {\n        var _below = tree.getNodeByTop(index.top + index.height);\n        if (_below && _below.parent !== index.id) {\n          if (_below.children && _below.children.length && !_below.node.collapsed) {\n            newIndex = tree.move(index.id, _below.id, 'prepend');\n          } else {\n            newIndex = tree.move(index.id, _below.id, 'after');\n          }\n        }\n      }\n    }\n\n    if (newIndex) {\n      newIndex.node.collapsed = collapsed;\n      dragging.id = newIndex.id;\n    }\n\n    _this2.setState({\n      tree: tree,\n      dragging: dragging\n    });\n  };\n\n  this.dragEnd = function () {\n    _this2.setState({\n      dragging: {\n        id: null,\n        x: null,\n        y: null,\n        w: null,\n        h: null\n      }\n    });\n\n    _this2.change(_this2.state.tree);\n    window.removeEventListener('mousemove', _this2.drag);\n    window.removeEventListener('mouseup', _this2.dragEnd);\n  };\n\n  this.change = function (tree) {\n    _this2._updated = true;\n    if (_this2.props.onChange) _this2.props.onChange(tree.obj);\n  };\n\n  this.toggleCollapse = function (nodeId) {\n    var tree = _this2.state.tree;\n    var index = tree.getIndex(nodeId);\n    var node = index.node;\n    node.collapsed = !node.collapsed;\n    tree.updateNodesPosition();\n\n    _this2.setState({\n      tree: tree\n    });\n\n    _this2.change(tree);\n  };\n};\n\nmodule.exports = UITree;"],"mappings":"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"},"metadata":{},"sourceType":"script"}