{"ast":null,"code":"var _jsxFileName = \"/Users/akwg7/Documents/react/RISE1/file-explorer-rise/frontend/src/pages/ShareFilesPage/ShareFiles.jsx\",\n  _s = $RefreshSig$();\nimport { CircularProgress } from \"@mui/material\";\nimport React, { useMemo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { usePostUserDataMutation } from \"../../apiServices/usersService\";\nimport Check from \"../../components/CheckBox/Check\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport { getFolderTree, getIsLoading, getSelectedUser } from \"./../../redux/folderTree/folderTreeSlice\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ShareFiles = _ref => {\n  _s();\n  var _selectedUser$userDat2;\n  let {\n    treeData: treeDataFromProps = {}\n  } = _ref;\n  const treeData = useSelector(getFolderTree);\n  const selectedUser = useSelector(getSelectedUser);\n  const isLoading = useSelector(getIsLoading);\n  const {\n    id: userId\n  } = useParams();\n  const [postUserData, {\n    isLoading: isPosting\n  }] = usePostUserDataMutation();\n  const sharedFileIds = useMemo(() => {\n    var _selectedUser$userDat;\n    return (selectedUser === null || selectedUser === void 0 ? void 0 : (_selectedUser$userDat = selectedUser.userData) === null || _selectedUser$userDat === void 0 ? void 0 : _selectedUser$userDat.sharedFileIds) || [];\n  }, [selectedUser === null || selectedUser === void 0 ? void 0 : (_selectedUser$userDat2 = selectedUser.userData) === null || _selectedUser$userDat2 === void 0 ? void 0 : _selectedUser$userDat2.sharedFileIds]);\n  const formData = useMemo(() => Object.assign({}, ...sharedFileIds.map(id => ({\n    [id]: true\n  }))), [sharedFileIds]);\n  const handleSubmit = async selectedIds => {\n    try {\n      await postUserData({\n        userId,\n        sharedFileIds: selectedIds\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n  const notify = () => {\n    toast(\"Default Notification !\");\n    toast.success(\"Success Notification !\", {\n      position: toast.POSITION.TOP_CENTER\n    });\n    toast.error(\"Error Notification !\", {\n      position: toast.POSITION.TOP_LEFT\n    });\n    toast.warn(\"Warning Notification !\", {\n      position: toast.POSITION.BOTTOM_LEFT\n    });\n    toast.info(\"Info Notification !\", {\n      position: toast.POSITION.BOTTOM_CENTER\n    });\n    toast(\"Custom Style Notification with css class!\", {\n      position: toast.POSITION.BOTTOM_RIGHT,\n      className: \"foo-bar\"\n    });\n  };\n  if (!Object.keys(selectedUser).length) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ml-4 font-semibold text-lg\",\n    children: \"Select User\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 12\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ml-4 font-semibold text-lg\",\n      style: {\n        fontSize: \"30px\"\n      },\n      children: [selectedUser.username, \" (\", selectedUser.email, \")\", (isLoading || isPosting) && /*#__PURE__*/_jsxDEV(CircularProgress, {\n        thickness: 5,\n        size: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Check, {\n      treeData: treeData,\n      formData: formData,\n      doSubmit: handleSubmit\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this);\n};\n_s(ShareFiles, \"KcfUhs18qzyB+H5llivXyyCs2wI=\", false, function () {\n  return [useSelector, useSelector, useSelector, useParams, usePostUserDataMutation];\n});\n_c = ShareFiles;\nexport default ShareFiles;\nvar _c;\n$RefreshReg$(_c, \"ShareFiles\");","map":{"version":3,"names":["CircularProgress","React","useMemo","useSelector","useParams","usePostUserDataMutation","Check","toast","ToastContainer","getFolderTree","getIsLoading","getSelectedUser","ShareFiles","treeData","treeDataFromProps","selectedUser","isLoading","id","userId","postUserData","isPosting","sharedFileIds","userData","formData","Object","assign","map","handleSubmit","selectedIds","error","console","log","notify","success","position","POSITION","TOP_CENTER","TOP_LEFT","warn","BOTTOM_LEFT","info","BOTTOM_CENTER","BOTTOM_RIGHT","className","keys","length","fontSize","username","email"],"sources":["/Users/akwg7/Documents/react/RISE1/file-explorer-rise/frontend/src/pages/ShareFilesPage/ShareFiles.jsx"],"sourcesContent":["import { CircularProgress } from \"@mui/material\";\nimport React, { useMemo } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useParams } from \"react-router-dom\";\nimport { usePostUserDataMutation } from \"../../apiServices/usersService\";\nimport Check from \"../../components/CheckBox/Check\";\nimport { toast, ToastContainer } from \"react-toastify\";\nimport {\n  getFolderTree,\n  getIsLoading,\n  getSelectedUser,\n} from \"./../../redux/folderTree/folderTreeSlice\";\n\nconst ShareFiles = ({ treeData: treeDataFromProps = {} }) => {\n  const treeData = useSelector(getFolderTree);\n  const selectedUser = useSelector(getSelectedUser);\n  const isLoading = useSelector(getIsLoading);\n\n  const { id: userId } = useParams();\n\n  const [postUserData, { isLoading: isPosting }] = usePostUserDataMutation();\n\n  const sharedFileIds = useMemo(\n    () => selectedUser?.userData?.sharedFileIds || [],\n    [selectedUser?.userData?.sharedFileIds]\n  );\n\n  const formData = useMemo(\n    () => Object.assign({}, ...sharedFileIds.map((id) => ({ [id]: true }))),\n    [sharedFileIds]\n  );\n\n  const handleSubmit = async (selectedIds) => {\n    try {\n      await postUserData({\n        userId,\n        sharedFileIds: selectedIds,\n      });\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const notify = () => {\n    toast(\"Default Notification !\");\n\n    toast.success(\"Success Notification !\", {\n      position: toast.POSITION.TOP_CENTER,\n    });\n\n    toast.error(\"Error Notification !\", {\n      position: toast.POSITION.TOP_LEFT,\n    });\n\n    toast.warn(\"Warning Notification !\", {\n      position: toast.POSITION.BOTTOM_LEFT,\n    });\n\n    toast.info(\"Info Notification !\", {\n      position: toast.POSITION.BOTTOM_CENTER,\n    });\n\n    toast(\"Custom Style Notification with css class!\", {\n      position: toast.POSITION.BOTTOM_RIGHT,\n      className: \"foo-bar\",\n    });\n  };\n\n  if (!Object.keys(selectedUser).length)\n    return <div className=\"ml-4 font-semibold text-lg\">Select User</div>;\n\n  return (\n    <div>\n      <div className=\"ml-4 font-semibold text-lg\" style={{ fontSize: \"30px\" }}>\n        {selectedUser.username} ({selectedUser.email})\n        {(isLoading || isPosting) && (\n          <CircularProgress thickness={5} size={20} />\n        )}\n      </div>\n      <Check treeData={treeData} formData={formData} doSubmit={handleSubmit} />\n    </div>\n  );\n};\n\nexport default ShareFiles;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}